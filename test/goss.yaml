file:
  /usr/local/openresty/nginx/conf/nginx.conf:
    exists: true
    mode: "0644"
    owner: root
    group: root
command:
  openresty -v:
    # required attributes
    exit-status: 0
    # optional attributes
    stderr:
    - "openresty/1.11.2.4"
    stdout: []
    timeout: 1000 # in milliseconds

port:
  tcp:80:
    listening: true
    ip:
    - 0.0.0.0
  tcp:443:
    listening: true
    ip:
    - 0.0.0.0

process:
  openresty:
    running: true

http:
  http://localhost:
    status: 404
    allow-insecure: true
    no-follow-redirects: false
    timeout: 5000
    body: []

  http://foo.bar:
    status: 200
    allow-insecure: true
    no-follow-redirects: false
    timeout: 5000
    body: []

  http://www.foo.bar:
    status: 200
    allow-insecure: true
    no-follow-redirects: false
    timeout: 5000
    body: []

  http://foo.bar2:
    status: 200
    allow-insecure: true
    no-follow-redirects: false
    timeout: 5000
    body: []

  http://www.foo.bar2:
    status: 200
    allow-insecure: true
    no-follow-redirects: false
    timeout: 5000
    body: []
